# Checks Configuration
# Copy this to checks-config.yaml in your repo root and customize

quality_gate:
  # Test coverage configuration
  coverage:
    enabled: true
    threshold: 95  # Minimum coverage percentage
    paths:
      - "src/brain_radio"  # Paths to measure coverage for
    command: "pytest"
    args:
      - "--cov"
      - "--cov-report=term-missing"
      - "--cov-report=xml"
  
  # Python-specific configuration
  python:
    enabled: true
    package_path: "src/brain_radio"  # For coverage measurement
    install_command: "uv pip install --system -e .[test]"
    test_extra: "test"  # Optional extra name in pyproject.toml
    fallback_install: "uv pip install --system pytest ruff"
  
  # Docker configuration
  docker:
    enabled: true
    image_name_pattern: ""  # Pattern to match built images (e.g., "myapp" or leave empty to skip)
    scan_base_images: true
    scan_built_images: true
  
  # Tool enablement (set to false to skip specific tools)
  tools:
    pinact: true
    actionlint: true
    shellcheck: true
    zizmor: true
    hadolint: true
    trivy: true
    ruff: true
    pytest: true
    # Additional Python tools (optional)
    mypy: false  # Type checking
    bandit: false  # Python security linting
    pip_audit: false  # Python dependency vulnerabilities
    pydocstyle: false  # Documentation style
    radon: false  # Code complexity
    vulture: false  # Dead code detection

# Pre-commit configuration
pre_commit:
  enabled: true
  auto_fix: true

# Report output directory (relative to repo root)
reports_dir: ".checks/reports"

